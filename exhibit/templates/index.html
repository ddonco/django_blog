{% extends "base.html" %}
{% load custom %}
{% block content %}
<div class="jumbotron pl-5 pr-1 py-1 text-white rounded bg-dark">
  <div class="row">
    <div class="col-md-8 px-0 pt-3">
      <h1 class="display-4 font-italic">
        <a href="{% url 'blog:post_detail' pk=latest_posts.0.pk %}">
          {{ latest_posts.0.title }}</a></h1>
      <div class="mb-1 text-muted">{{ latest_posts.0.publish_date }}</div>
      {% if latest_posts.0 %}
        <p class="lead my-3">
          {{ latest_posts.0.text|render_markdown|safe|truncatewords:20 }}
        </p>
        <p class="lead align-bottom mb-0 pb-0">
          <a href="{% url 'blog:post_detail' pk=latest_posts.0.pk %}"
            class="text-white font-weight-bold">Continue reading...</a>
        </p>
      {% endif %}
    </div>
    <div class="col-md-4">
      {% if latest_posts.0.thumbnail %}
        <img class="img-thumbnail flex-auto d-none d-lg-block"
          src="{{ latest_posts.0.thumbnail.url }}" alt="Card image cap">
      {% endif %}
    </div>
  </div>
</div>

<div class="row mb-2">
  <div class="col-md-6">
    <div class="card flex-md-row mb-4 box-shadow h-md-250">
      <div class="card-body d-flex flex-column align-items-start">
        <strong class="d-inline-block mb-2 text-primary">Blog</strong>
        {% if latest_posts.1 %}
          <h3 class="mb-0">
            <a href="{% url 'blog:post_detail' pk=latest_posts.1.pk %}" class="text-dark">
              {{ latest_posts.1.title }}</a>
          </h3>
          <div class="mb-1 text-muted">{{ latest_posts.1.publish_date }}</div>
          <p class="card-text mb-auto">
            {{ latest_posts.1.text|render_markdown|safe|truncatewords:15 }}
          </p>
          <a href="{% url 'blog:post_detail' pk=latest_posts.1.pk %}">Continue reading</a>
        {% endif %}
      </div>
      {% if latest_posts.1.thumbnail %}
        <img class="card-img-right flex-auto d-none d-lg-block"
          src="{{ latest_posts.1.thumbnail.url }}" alt="Card image cap">
      {% endif %}
    </div>
  </div>
  <div class="col-md-6">
    <div class="card flex-md-row mb-4 box-shadow h-md-250">
      <div class="card-body d-flex flex-column align-items-start">
        <strong class="d-inline-block mb-2 text-success">Projects</strong>
        {% if latest_posts.2 %}
          <h3 class="mb-0">
            <a href="{% url 'blog:post_detail' pk=latest_posts.2.pk %}" class="text-dark">
              {{ latest_posts.2.title }}</a>
          </h3>
          <div class="mb-1 text-muted">{{ latest_posts.2.publish_date }}</div>
          <p class="card-text mb-auto">
            {{ latest_posts.2.text|render_markdown|safe|truncatewords:15 }}
          </p>
          <a href="{% url 'blog:post_detail' pk=latest_posts.2.pk %}">Continue reading</a>
        {% endif %}
      </div>
      {%if latest_posts.2.thumbnail%}
        <img class="card-img-right flex-auto d-none d-lg-block"
          src="{{ latest_posts.2.thumbnail.url }}" alt="Card image cap">
      {% endif %}
    </div>
  </div>
</div>
</div>
{% endblock %}
